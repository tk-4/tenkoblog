---
title: Ansibleもくもく会＠Softbank(A10編)に参加しました。
date: 2019-09-14T02:27:02.000Z
categories:
  - Ansible
id: "26006613433023192"
draft: false
---
2019/9/13(金)に開催された、Ansibleもくもく会に参加しました。

今回は、実業務でもかかわりのあるA10さんの機器が触れるとあって、とても楽しみにしていました。

今年の2月から初めて、通算6回目です。常連といっても過言ではない…？<BR>
いろいろな事情で、Ansibleちからは、ほとんど上がっておりませんが…！orz<BR>
来月から本気出す！


[:contents]


## 会場
普段のRedhatさん会場(目黒)ではなく、今回はソフトバンクさん(汐留)で開催！<BR>
以前、フェニックスプロジェクトの研修でお邪魔したビルと同じでした。<BR>
(とはいえ、ふだんからリモートばかりですが…)

## コンテンツ

記憶だけでざっくりと書くとこんな感じの内容です。不足あったら申し訳ありません。<BR>
見ていただけるとわかりますが、とってもボリューミーな予感がしました。

- VLANの作成
- 物理ポートへのVLAN割り当て、VEへのIPの付与
- インターフェースのEnable
- Serverの宣言
- ServiceGroup/Port/VirtualServerの作成にあわせたIPの設定、バランシングアルゴリズムの設定
- NATプールの作成
- 運用上必要となるServerのDisable/Enable
- HTTPSの証明書のインポート→ClientSSLテンプレートへの展開→TCP443待ち受け

イメージとしては、A10さんの機器のスタンダードな使い方のハンズオントレーニングを、WebUI/CLIではなくAnsibleを使って実施する、という感じです。

詳細なコンテンツは、以下URLに掲載されています。これは永続で公開されるとのこと。大変ありがたいことです。

[https://github.com/kishizuka4989/ansible_training_a10_thuner_adc/blob/master/README.ja.md]


## 環境
環境面から普段とは大きく異なりました。

### 普段のもくもく会
- SSH（接続先IPなどは一覧があるURLから探す。全環境に直接アクセス可能）
- Towerをやる人はブラウザ
- もくもく会での操作対象はAWS上

### 今回
- Ravelloによる統合管理Webコンソール
- SSH（接続先IPはRavello上に記載。直接アクセスは最低限で、A10へはWindows経由でSSH接続)
- RDP（接続先がWindowsのため、Macユーザの方は苦労されたのでは…)
- もくもく会での操作対象はGCP上(名言無し、IPから推測)


私のメイン端末はWindows Homeなので「RDPできないじゃないか」と思ってWindowsストアなどで互換アプリを探してテストしたりしました。<BR>
結局、RDPクライアントはWindows Homeでも普通に使えて、RDPの待ち受けができないだけだというひどい思い違いをしており、顔から火が出る思いです。ぐふう。

### 自身の操作環境のカイゼン(未遂)
Twitter上で「Visual Studio Code remote便利」というのを見かけていたのでプラグインの導入だけはしていたのですが、SSH接続方法がパッとわからず普段通りTeraTermでポチポチ…

ちゃんと後で学習しました。これマジで便利ですね。<BR>
むしろ、これまでTeraTerm+Vimで手打ちしてたのをあまり疑問に思わなかったアホの子でした…


[https://twitter.com/tk4_jj/status/1172679145639182336:embed]


## やったこと(Y)

用意されていたコンテンツは、時間ギリギリでしたがなんとか完走することができました。<BR>
コンテンツのGit見ていただけるとわかりますが、かなり丁寧に書いていただいていたので、とても分かりやすかったです。

## わかったこと(W)

- A10さんのモジュールは、対象ホストに対してSSH接続し処理を行う、という形ではなく、aXAPIをAnsibleホストから発行する。
- そのため、aAXPIで実装されている機能はほとんどのものが利用可能。(ACOS4.1以降が必要)
  - つまり、会社で使ってるThunderのオペレーションはすべてAnsible化できるということ
    - <span style="color: #ff0000">つまり、Ansibleやらない理由がない。</span>

## つぎやること(T)

- Visual Studio Code remoteを使えるようにする(済)
- ブログに書く(済)
- アンケートやる(済)
- 昨日あがっていたサンプルをのぞいてみる(今月は控えめに)
- assert調べてみる(控えめに)

## 成果共有についての感想

- tomoさん(非NWエンジニア)も完走されていて、実際の利用想定まで考慮されたコメント(テスト部分とか)をされていた。<BR>自分はここまではまだ思い至らないので早く経験積みたい。
- AzureをAnsibleで操作するスライドを用いた成果発表が突然はじまってびっくり。今回のも完走できているのもさらにびっくり。
- みなさん、実業務の中で触れられていたりして、早く業務で使いたい気持ちが高まった。
- @sky_jokerxx さんが証明書確認に使える仕組みと、自作モジュールのプルリク→マージされた話をされてていて、神だと思った。


## 全体的な感想
もくもく会参加したてのころは、どんなもんだろうと不安もありましたが、様々なコンテンツを体験するたび、Ansibleを早く仕事で使いたい気持ちがどんどん高まってきてます。

いつも貴重な体験の場を提供していただいているREDHATさん、今回のような貴重な場を提供いただいたソフトバンクさん、A10ネットワークスさんには感謝しかありません。

実績で恩返しができるように、頑張ります！


Ansibleはいいぞ。

A10はいいぞ。

---
title: ansible automates tokyo 2019参加レポート
date: 2019-06-20T23:38:59.000Z
categories:
  - Ansible
id: "17680117127204030849"
draft: false
---
昨日、ベルサール汐留で開催されたRed Hatさんのイベントに参加してきました。



<img src="https://github.com/tk-4/tenkoblog/blob/main/docs/images/20190621/20190621080926.jpg?raw=true">

RHEL8/openshift中心の部屋とAnsible部屋が午後から別れるスケジュールで、終日参加しました。

午後はAnsible側( ハッシュタグ #ansibleautomates )に参加しましたので、そちらのレポートを書きたいと思います。

ツイッターイベント的なものも開催されるだろうと思って、
当日だけ朝起きてから新幹線での移動中にドット弄っておめかししました。

【普段のアイコン】<img src="https://github.com/tk-4/tenkoblog/blob/main/docs/images/20190622/20190622132308.png?raw=true">→【おめかし】<img src="https://github.com/tk-4/tenkoblog/blob/main/docs/images/20190622/20190622132311.png?raw=true">


会場では、ユーザグループの一部の方とご挨拶できる機会もあり、とても嬉しかったです。もくもく会はいつもリモート参加ばかりなので、いつか現地で出たいものです。

当日の講演資料をREDHATのなかむらさんがアップされてました。
全資料おすすめです。（なかじまさんのもの以外もあります。）


[http://redhat.lookbookhq.com/automatestokyo2019:embed:cite]



セミナ内容としては、ものすごくサマると、以下のような順番ですすめると良さそうだなと思いました。

[:contents]



<!-- more -->

##スタート

- 自分に問いをしてみる。(なぜこれをやるのか?)
- 失敗を恐れず、まずはぼっちでも始めてみる（初めて見る）。
ただし、始めるなら小さいところから。
- ふみだす→あらわす→まきこむ→ふみだすのサイクルを回すつもりで始める
- 結果をアウトプットする。アウトプットの結果(進んだ証)が人を呼ぶ。
- 仲間を見つける。（二人は最低で最強）※2周目のスタート

##初期展開（本格的に始める前）

- ボトムアップだけでなくトップダウンと両側からアプローチできると良い
- 訴求ポイントは、これを使おう!（手段）ではなく、使うとみんなが幸せになれる（結果）。
効率化≒今のやり方が悪い、ではなく、苦しいことから開放される、という視点でアプローチしてみる。
- 始める前に、みんなの一定水準までのAnsible教育は必要。
Red Hatさんの教育や資格制度を活用すると水準が分かりやすい
- CI/CDまで一気にやると、習得するカテゴリが増えるので注意（抵抗勢力を増やしたり、開始が遅れる可能性も。）
- 先のことを考えると、CLIでの実行ではなく当初からansible towerなど、ログの視認性やワークフロー、権限管理などができるものを活用するほうが良い。やはりguiは安心感がある。見える化も部品化もしやすい。


##本格展開

- 業務をプロセスとロール（非ansible role）に分解。
- 手動オペレーションのときの行間を埋める。（事前、事後確認は手順にないけどログ見るとやってる、とか。）
- 業務整理できたら対象範囲をしっかり定義（抜け漏れ防止）
- 実環境でのお試しは、影響ないところから。

##ノウハウ
- コーディング規約やモジュール活用ルールなどを作らないと、あとが大変。
- GitLabにコード(Playbook)をPushする際に構文チェックをしている(yaml-lint / ansible-lint)
- 自動化の対象範囲や方法などに困ったら、Red Hatさんのコンサルを活用する手も。
- サポートを活用することで、手段（新しいことへの挑戦）での躓きを抑制し、結果（自動化、効率化など）を出すことに注力ができる
- 視座（視点の高さ）を、意識するといい
- いきなり100%を目指さない
- 旗印(ロゴなど見えるもの、ヴィジョンなどの文章)があるとブレずに進める。団結力が上がる。

何も見ずに書くとこんな感じの印象でした。

## 感想とこれからどうするか

6年前くらいに、危機感を感じつつサイロにならないような工夫もした自動化の仕組みを考えて少しは実業務にも使ったのですが、展開を他メンバーに任せた結果、あまり活用されませんでした。

冒頭にあった自動化2.0のプレゼンは本当にあるあるで、先に進んでらっしゃる皆様の工夫も大変参考になりました。
6年前の結果をもう一度振り返り、みんなを巻き込めるように今後もAnsibleを勉強したいと思っています。

頑張るぞ!!

<img src="https://github.com/tk-4/tenkoblog/blob/main/docs/images/20190622/20190622134412.jpg?raw=true">

一応爪痕を残した。

```
wanko.local
nyanko.local
```
このfqdn好き。
